{"ast":null,"code":"var _jsxFileName = \"/Users/alancln/Desktop/dina-dopt/frontend/src/components/buttons/add_to_cart_button.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { addToCart, removeFromCart } from '../../util/cart_api_util';\nimport { receiveCart } from '../../actions/cart_actions';\nimport { useDispatch } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddToCartButton = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    cartItems,\n    petId\n  } = props;\n  console.log('atc pet', petId); // console.log(cartItems, pet);\n\n  const [added, setAdded] = useState(() => {\n    return cartItems.includes(pet._id);\n  });\n\n  const handleATC = async e => {\n    e.preventDefault();\n    console.log('added'); // setAdded(!added);\n\n    let newCart = await addToCart(pet);\n    console.log(newCart);\n    return dispatch(receiveCart(newCart.data));\n  };\n\n  const handleRFC = async e => {\n    e.preventDefault();\n    setAdded(!added);\n    let newCart = await removeFromCart(pet._id);\n    return dispatch(receiveCart(newCart.data));\n  };\n\n  const addButton = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-to-cart-button atc-card-button\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleATC,\n        children: \"Add to Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  };\n\n  const removeButton = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-to-cart-button atc-card-button\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRFC,\n        children: \"Remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  };\n\n  return addButton();\n};\n\n_s(AddToCartButton, \"Ej3yuGzU82vaKxLQ0KrmKNWJifE=\", false, function () {\n  return [useDispatch];\n});\n\n_c = AddToCartButton;\nexport default AddToCartButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddToCartButton\");","map":{"version":3,"names":["React","useState","addToCart","removeFromCart","receiveCart","useDispatch","AddToCartButton","props","dispatch","cartItems","petId","console","log","added","setAdded","includes","pet","_id","handleATC","e","preventDefault","newCart","data","handleRFC","addButton","removeButton"],"sources":["/Users/alancln/Desktop/dina-dopt/frontend/src/components/buttons/add_to_cart_button.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { addToCart, removeFromCart } from '../../util/cart_api_util';\nimport { receiveCart } from '../../actions/cart_actions';\nimport { useDispatch } from 'react-redux';\n\nconst AddToCartButton = (props) => {\n  const dispatch = useDispatch();\n\n  const { cartItems, petId } = props;\n\n  console.log('atc pet',petId)\n\n  // console.log(cartItems, pet);\n\n  const [added, setAdded] = useState(() => {\n    return cartItems.includes(pet._id);\n  });\n\n  const handleATC = async (e) => {\n    e.preventDefault();\n    console.log('added')\n    // setAdded(!added);\n    let newCart = await addToCart(pet);\n    console.log(newCart)\n    return dispatch(receiveCart(newCart.data));\n  };\n\n  const handleRFC = async (e) => {\n    e.preventDefault();\n    setAdded(!added);\n    let newCart = await removeFromCart(pet._id);\n    return dispatch(receiveCart(newCart.data));\n  };\n\n  const addButton = () => {\n    return (\n      <div className=\"add-to-cart-button atc-card-button\">\n        <button onClick={handleATC}>Add to Cart</button>\n      </div>\n    );\n  };\n\n  const removeButton = () => {\n    return (\n      <div className=\"add-to-cart-button atc-card-button\">\n        <button onClick={handleRFC}>Remove</button>\n      </div>\n    );\n  };\n\n  return addButton();\n};\n\nexport default AddToCartButton;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,EAAoBC,cAApB,QAA0C,0BAA1C;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAW;EAAA;;EACjC,MAAMC,QAAQ,GAAGH,WAAW,EAA5B;EAEA,MAAM;IAAEI,SAAF;IAAaC;EAAb,IAAuBH,KAA7B;EAEAI,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBF,KAAtB,EALiC,CAOjC;;EAEA,MAAM,CAACG,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,MAAM;IACvC,OAAOQ,SAAS,CAACM,QAAV,CAAmBC,GAAG,CAACC,GAAvB,CAAP;EACD,CAFiC,CAAlC;;EAIA,MAAMC,SAAS,GAAG,MAAOC,CAAP,IAAa;IAC7BA,CAAC,CAACC,cAAF;IACAT,OAAO,CAACC,GAAR,CAAY,OAAZ,EAF6B,CAG7B;;IACA,IAAIS,OAAO,GAAG,MAAMnB,SAAS,CAACc,GAAD,CAA7B;IACAL,OAAO,CAACC,GAAR,CAAYS,OAAZ;IACA,OAAOb,QAAQ,CAACJ,WAAW,CAACiB,OAAO,CAACC,IAAT,CAAZ,CAAf;EACD,CAPD;;EASA,MAAMC,SAAS,GAAG,MAAOJ,CAAP,IAAa;IAC7BA,CAAC,CAACC,cAAF;IACAN,QAAQ,CAAC,CAACD,KAAF,CAAR;IACA,IAAIQ,OAAO,GAAG,MAAMlB,cAAc,CAACa,GAAG,CAACC,GAAL,CAAlC;IACA,OAAOT,QAAQ,CAACJ,WAAW,CAACiB,OAAO,CAACC,IAAT,CAAZ,CAAf;EACD,CALD;;EAOA,MAAME,SAAS,GAAG,MAAM;IACtB,oBACE;MAAK,SAAS,EAAC,oCAAf;MAAA,uBACE;QAAQ,OAAO,EAAEN,SAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAKD,CAND;;EAQA,MAAMO,YAAY,GAAG,MAAM;IACzB,oBACE;MAAK,SAAS,EAAC,oCAAf;MAAA,uBACE;QAAQ,OAAO,EAAEF,SAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAKD,CAND;;EAQA,OAAOC,SAAS,EAAhB;AACD,CA9CD;;GAAMlB,e;UACaD,W;;;KADbC,e;AAgDN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}