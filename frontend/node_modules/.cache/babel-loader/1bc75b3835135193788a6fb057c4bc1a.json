{"ast":null,"code":"var _jsxFileName = \"/Users/alancln/Desktop/dina-dopt/frontend/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './components/root';\nimport configureStore from './store/store';\nimport jwt_decode from 'jwt-decode';\nimport { setAuthToken } from './util/session_api_util';\nimport { login, logout } from './actions/session_actions';\nimport './assets/stylesheets/main.scss';\nimport { openModal } from './actions/modal_actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndocument.addEventListener('DOMContentLoaded', () => {\n  const root = document.getElementById('root');\n  let store;\n\n  if (localStorage.jwtToken) {\n    setAuthToken(localStorage.jwtToken);\n    const decodedUser = jwt_decode(localStorage.jwtToken);\n    const preloadedState = {\n      session: {\n        isAuthenticated: true,\n        user: decodedUser\n      }\n    };\n    store = configureStore(preloadedState);\n    const currentTime = Date.now() / 1000;\n\n    if (decodedUser.exp < currentTime) {\n      store.dispatch(logout());\n      window.location.href = '/';\n    }\n  } else {\n    store = configureStore({});\n  }\n\n  ReactDOM.render( /*#__PURE__*/_jsxDEV(Root, {\n    store: store\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 19\n  }, this), root); // store.dispatch(login({ email: \"demo@demo.com\", password: \"password\" }))\n});","map":{"version":3,"names":["React","ReactDOM","Root","configureStore","jwt_decode","setAuthToken","login","logout","openModal","document","addEventListener","root","getElementById","store","localStorage","jwtToken","decodedUser","preloadedState","session","isAuthenticated","user","currentTime","Date","now","exp","dispatch","window","location","href","render"],"sources":["/Users/alancln/Desktop/dina-dopt/frontend/src/index.js"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './components/root';\nimport configureStore from './store/store';\nimport jwt_decode from 'jwt-decode';\nimport { setAuthToken } from './util/session_api_util';\nimport { login, logout } from './actions/session_actions';\nimport './assets/stylesheets/main.scss';\nimport { openModal } from './actions/modal_actions';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const root = document.getElementById('root');\n  let store;\n\n  if (localStorage.jwtToken) {\n    setAuthToken(localStorage.jwtToken);\n    const decodedUser = jwt_decode(localStorage.jwtToken);\n    const preloadedState = { session: { isAuthenticated: true, user: decodedUser } };\n\n    store = configureStore(preloadedState);\n    const currentTime = Date.now() / 1000;\n\n    if (decodedUser.exp < currentTime) {\n      store.dispatch(logout());\n      window.location.href = '/';\n    }\n  } else {\n    store = configureStore({});\n  }\n\n  ReactDOM.render(<Root store={store} />, root);\n  // store.dispatch(login({ email: \"demo@demo.com\", password: \"password\" }))\n});"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,cAAP,MAA2B,eAA3B;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,YAAT,QAA6B,yBAA7B;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,2BAA9B;AACA,OAAO,gCAAP;AACA,SAASC,SAAT,QAA0B,yBAA1B;;AAEAC,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,MAAM;EAClD,MAAMC,IAAI,GAAGF,QAAQ,CAACG,cAAT,CAAwB,MAAxB,CAAb;EACA,IAAIC,KAAJ;;EAEA,IAAIC,YAAY,CAACC,QAAjB,EAA2B;IACzBV,YAAY,CAACS,YAAY,CAACC,QAAd,CAAZ;IACA,MAAMC,WAAW,GAAGZ,UAAU,CAACU,YAAY,CAACC,QAAd,CAA9B;IACA,MAAME,cAAc,GAAG;MAAEC,OAAO,EAAE;QAAEC,eAAe,EAAE,IAAnB;QAAyBC,IAAI,EAAEJ;MAA/B;IAAX,CAAvB;IAEAH,KAAK,GAAGV,cAAc,CAACc,cAAD,CAAtB;IACA,MAAMI,WAAW,GAAGC,IAAI,CAACC,GAAL,KAAa,IAAjC;;IAEA,IAAIP,WAAW,CAACQ,GAAZ,GAAkBH,WAAtB,EAAmC;MACjCR,KAAK,CAACY,QAAN,CAAelB,MAAM,EAArB;MACAmB,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;IACD;EACF,CAZD,MAYO;IACLf,KAAK,GAAGV,cAAc,CAAC,EAAD,CAAtB;EACD;;EAEDF,QAAQ,CAAC4B,MAAT,eAAgB,QAAC,IAAD;IAAM,KAAK,EAAEhB;EAAb;IAAA;IAAA;IAAA;EAAA,QAAhB,EAAwCF,IAAxC,EApBkD,CAqBlD;AACD,CAtBD"},"metadata":{},"sourceType":"module"}