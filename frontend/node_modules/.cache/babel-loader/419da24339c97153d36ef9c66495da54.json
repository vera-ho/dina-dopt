{"ast":null,"code":"var _jsxFileName = \"/Users/alancln/Desktop/dina-dopt/frontend/src/components/cart/cart_sidebar.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { fetchCart } from '../../util/cart_api_util';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { receiveCart } from '../../actions/cart_actions';\nimport { requestAllPets, receiveAllPets } from '../../actions/pet_actions';\nimport { getPets } from '../../util/pet_util';\nimport { addToCart } from '../../util/cart_api_util';\nimport CartPlusButton from '../buttons/cart_plus_button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CartSidebar = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    let cart = await fetchCart();\n    dispatch(receiveCart(cart.data));\n    let pets = await getPets();\n    dispatch(receiveAllPets(pets.data));\n  };\n\n  const {\n    cartItemPets\n  } = props;\n  const cart = useSelector(state => state.entities.cart);\n  console.log(cart);\n  if (!cart) return null;\n\n  const handleCloseSidebar = e => {\n    e.preventDefault();\n    const cartSidebar = document.getElementById('cart-sidebar-container');\n    cartSidebar.classList.remove('active');\n  };\n\n  const handleAddPetQty = async pet => {\n    console.log(pet);\n    let newCart = await addToCart(pet);\n    console.log(newCart);\n    dispatch(receiveCart(newCart.data));\n    console.log('add');\n  };\n\n  const handleRemovePetQty = async pet => {\n    // let newCart = await addToCart(pet);\n    // console.log(newCart)\n    // return dispatch(receiveCart(newCart.data));\n    console.log('remove');\n  };\n\n  console.log(props);\n\n  const totalPrice = () => {\n    let sum = 0;\n    cartItemPets.forEach(pet => {\n      sum += pet.total;\n    });\n    return sum;\n  };\n\n  if (!cart || !cartItemPets) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"cart-sidebar-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-close-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCloseSidebar,\n        className: \"close-sidebar-button\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-sidebar-info-container\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Cart (\", cartItemPets.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-sidebar-pets-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-sidebar-pets-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-item-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-item-name-header\",\n            children: \"Pet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-item-qty-header\",\n            children: \"QTY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-item-price-header\",\n            children: \"$$$\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), cartItemPets.map((pet, idx) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-item-pet-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item-pet-name-container\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: pet.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item-pet-qty-container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pet-qty-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => handleRemovePetQty(pet),\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: pet.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CartPlusButton, {\n                  petId: pet.petId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item-pet-price-container\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"$\", pet.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"price-checkout-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-total-price-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price-header\",\n              children: \"Total Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total-price\",\n              children: [\"$\", totalPrice()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartSidebar, \"doC4f5cneqGDIuFR+PmVAAtKl6c=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CartSidebar;\nexport default CartSidebar;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartSidebar\");","map":{"version":3,"names":["React","useEffect","fetchCart","useDispatch","useSelector","receiveCart","requestAllPets","receiveAllPets","getPets","addToCart","CartPlusButton","CartSidebar","props","dispatch","fetchData","cart","data","pets","cartItemPets","state","entities","console","log","handleCloseSidebar","e","preventDefault","cartSidebar","document","getElementById","classList","remove","handleAddPetQty","pet","newCart","handleRemovePetQty","totalPrice","sum","forEach","total","length","map","idx","name","quantity","petId","price"],"sources":["/Users/alancln/Desktop/dina-dopt/frontend/src/components/cart/cart_sidebar.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { fetchCart } from '../../util/cart_api_util';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { receiveCart } from '../../actions/cart_actions';\nimport { requestAllPets, receiveAllPets } from '../../actions/pet_actions';\nimport { getPets } from '../../util/pet_util';\nimport { addToCart } from '../../util/cart_api_util';\nimport CartPlusButton from '../buttons/cart_plus_button';\n\nconst CartSidebar = (props) => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    let cart = await fetchCart();\n    dispatch(receiveCart(cart.data));\n    let pets = await getPets();\n    dispatch(receiveAllPets(pets.data));\n  };\n\n  const { cartItemPets } = props;\n  const cart = useSelector((state) => state.entities.cart);\n\n  console.log(cart)\n\n  if (!cart) return null;\n\n  const handleCloseSidebar = (e) => {\n    e.preventDefault();\n\n    const cartSidebar = document.getElementById('cart-sidebar-container');\n    cartSidebar.classList.remove('active');\n  };\n\n  const handleAddPetQty = async (pet) => {\n    console.log(pet)\n\n    let newCart = await addToCart(pet);\n    console.log(newCart);\n    dispatch(receiveCart(newCart.data));\n\n    console.log('add');\n  };\n\n  const handleRemovePetQty = async (pet) => {\n    // let newCart = await addToCart(pet);\n    // console.log(newCart)\n    // return dispatch(receiveCart(newCart.data));\n\n    console.log('remove');\n  };\n\n  console.log(props);\n\n  const totalPrice = () => {\n    let sum = 0;\n    cartItemPets.forEach((pet) => {\n      sum += pet.total;\n    });\n    return sum;\n  };\n\n  if (!cart || !cartItemPets) return null;\n\n  return (\n    <div id=\"cart-sidebar-container\">\n      <div className=\"sidebar-close-header\">\n        <button onClick={handleCloseSidebar} className=\"close-sidebar-button\">\n          &times;\n        </button>\n        <div className=\"cart-sidebar-info-container\">\n          <p>Cart ({cartItemPets.length})</p>\n        </div>\n      </div>\n      <div className=\"cart-sidebar-pets-container\">\n        <div className=\"cart-sidebar-pets-content\">\n          <div className=\"cart-item-header\">\n            <div className=\"cart-item-name-header\">Pet</div>\n            <div className=\"cart-item-qty-header\">QTY</div>\n            <div className=\"cart-item-price-header\">$$$</div>\n          </div>\n          {cartItemPets.map((pet, idx) => {\n            return (\n              <div className=\"cart-item-pet-info\" key={idx}>\n                <div className=\"cart-item-pet-name-container\">\n                  <p>{pet.name}</p>\n                </div>\n                {/* <div className=\"item-quantity\">{pet.quantity}</div> */}\n                <div className=\"cart-item-pet-qty-container\">\n                  <div className=\"pet-qty-content\">\n                    <span onClick={() => handleRemovePetQty(pet)}>-</span>\n                    <p>{pet.quantity}</p>\n                    <CartPlusButton petId={pet.petId}/>\n                  </div>\n                </div>\n                <div className=\"cart-item-pet-price-container\">\n                  <p>${pet.price}</p>\n                </div>\n              </div>\n            );\n          })}\n          <div className=\"price-checkout-container\">\n            <div className=\"cart-total-price-container\">\n              <div className=\"price-header\">Total Price</div>\n              <div className=\"total-price\">${totalPrice()}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CartSidebar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}