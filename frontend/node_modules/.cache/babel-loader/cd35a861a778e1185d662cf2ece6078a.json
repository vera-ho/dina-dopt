{"ast":null,"code":"var _jsxFileName = \"/Users/alancln/Desktop/dina-dopt/frontend/src/components/session/login_form.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { clearErrors } from '../../actions/session_actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginForm = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    email: '',\n    password: '',\n    errors: {}\n  });\n  useEffect(() => {\n    dispatch(clearErrors());\n  }, [dispatch]);\n  useEffect(() => {\n    if (props.currentUser === true) {\n      props.history.push('/pets');\n    }\n\n    setState(prevState => {\n      return { ...prevState,\n        errors: props.errors\n      };\n    });\n  }, [props.currentUser, props.errors, props.history]);\n\n  const update = field => {\n    return e => setState({ ...state,\n      [field]: e.currentTarget.value\n    });\n  };\n\n  const handleLogin = e => {\n    e.preventDefault();\n    let user = {\n      email: state.email,\n      password: state.password\n    };\n    props.login(user);\n  };\n\n  const handleDemoLogin = e => {\n    e.preventDefault();\n    let demoUser = {\n      email: \"demoUser@demo.com\",\n      password: \"password\"\n    };\n    props.login(demoUser);\n  };\n\n  const renderErrors = () => {\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"error-message-container\",\n      children: Object.keys(state.errors).map((error, idx) => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"error-messages\",\n          children: state.errors[error]\n        }, `error-${idx}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"session-form-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"session-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"session-label\",\n        children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: state.email,\n          onChange: update('email')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"session-label\",\n        children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: state.password,\n          onChange: update('password')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"session-submit\",\n        onClick: handleLogin,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"session-submit\",\n        onClick: handleDemoLogin,\n        children: \"Demo Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), renderErrors()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LoginForm, \"INSixS7rUL+pJ6enPCtc1IVT11o=\", false, function () {\n  return [useDispatch];\n});\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","clearErrors","LoginForm","props","dispatch","state","setState","email","password","errors","currentUser","history","push","prevState","update","field","e","currentTarget","value","handleLogin","preventDefault","user","login","handleDemoLogin","demoUser","renderErrors","Object","keys","map","error","idx"],"sources":["/Users/alancln/Desktop/dina-dopt/frontend/src/components/session/login_form.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { clearErrors } from '../../actions/session_actions';\n\nconst LoginForm = (props) => {\n\n    const dispatch = useDispatch();\n\n    const [state, setState] = useState({\n        email: '',\n        password: '',\n        errors: {}\n    });\n\n    useEffect(() => {\n        dispatch(clearErrors());\n    }, [dispatch])\n\n    useEffect(() => {\n        if (props.currentUser === true) {\n            props.history.push('/pets')\n        }\n\n        setState(prevState => {\n            return { ...prevState, errors: props.errors }\n        })\n    }, [props.currentUser, props.errors, props.history])\n\n    const update = (field) => {\n        return e => setState({ ...state, [field]: e.currentTarget.value })\n    }\n\n    const handleLogin = (e) => {\n        e.preventDefault();\n\n        let user = {\n            email: state.email,\n            password: state.password\n        };\n\n        props.login(user);\n    }\n\n    const handleDemoLogin = (e) => {\n        e.preventDefault();\n\n        let demoUser = {\n            email: \"demoUser@demo.com\",\n            password: \"password\"\n        };\n\n        props.login(demoUser);\n    }\n\n    const renderErrors = () => {\n        return (\n            <ul className=\"error-message-container\">\n                {\n                    Object.keys(state.errors).map((error, idx) => {\n                        return (\n                            <li key={`error-${idx}`} className=\"error-messages\">\n                                {state.errors[error]}\n                            </li>\n                        )\n                    })\n                }\n            </ul>\n        )\n    }\n\n    return (\n        <div className=\"session-form-container\">\n            <form className=\"session-form\">\n                <label className=\"session-label\">Email:\n                    <input type=\"text\"\n                        value={state.email}\n                        onChange={update('email')}\n                    />\n                </label>\n                <label className=\"session-label\">Password:\n                    <input type=\"password\"\n                        value={state.password}\n                        onChange={update('password')}\n                    />\n                </label>\n            <button className=\"session-submit\" onClick={handleLogin}>Login</button>\n            <button className=\"session-submit\" onClick={handleDemoLogin}>Demo Login</button>\n            {renderErrors()}\n            </form>\n        </div>\n    )\n}\n\nexport default LoginForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}