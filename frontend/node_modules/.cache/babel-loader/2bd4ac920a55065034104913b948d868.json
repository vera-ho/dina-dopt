{"ast":null,"code":"var _jsxFileName = \"/Users/alancln/Desktop/dina-dopt/frontend/src/components/session/signup_form.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { clearErrors } from '../../actions/session_actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignupForm = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    email: '',\n    name: '',\n    password: '',\n    password2: '',\n    errors: {}\n  });\n  useEffect(() => {\n    dispatch(clearErrors());\n  }, [dispatch]);\n  useEffect(() => {\n    setState(prevState => {\n      return { ...prevState,\n        errors: props.errors\n      };\n    });\n  }, [props.errors, props.history]);\n\n  const update = field => {\n    return e => setState({ ...state,\n      [field]: e.currentTarget.value\n    });\n  };\n\n  const nameSubmit = e => {\n    e.preventDefault();\n    let user = {\n      email: state.email,\n      name: state.name,\n      password: state.password,\n      password2: state.password2\n    };\n    props.signup(user);\n  };\n\n  const renderErrors = () => {\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"error-message-container\",\n      children: Object.keys(state.errors).map((error, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"error-messages\",\n        children: state.errors[error]\n      }, `error-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signup-page-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"session-form-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"session-form\",\n        onSubmit: nameSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"session-label\",\n          children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: state.email,\n            onChange: update('email')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"session-label\",\n          children: [\"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: state.name,\n            onChange: update('name')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"session-label\",\n          children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: state.password,\n            onChange: update('password')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"session-label\",\n          children: [\"Confirm Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: state.password2,\n            onChange: update('password2')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"session-submit\",\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), renderErrors()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 7\n  }, this);\n};\n\n_s(SignupForm, \"l12zc/Af3J/HxONh+GM9KRTTVrI=\", false, function () {\n  return [useDispatch];\n});\n\n_c = SignupForm;\nexport default SignupForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignupForm\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","clearErrors","SignupForm","props","dispatch","state","setState","email","name","password","password2","errors","prevState","history","update","field","e","currentTarget","value","nameSubmit","preventDefault","user","signup","renderErrors","Object","keys","map","error","i"],"sources":["/Users/alancln/Desktop/dina-dopt/frontend/src/components/session/signup_form.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { clearErrors } from '../../actions/session_actions';\n\nconst SignupForm = (props) => {\n\n  const dispatch = useDispatch();\n  \n  const [state, setState] = useState({\n      email: '',\n      name: '',\n      password: '',\n      password2: '',\n      errors: {}\n  })\n\n  useEffect(() => {\n    dispatch(clearErrors());\n  }, [dispatch])\n\n  useEffect(() => {\n    setState(prevState => {\n          return { ...prevState, errors: props.errors }\n      })\n  }, [props.errors, props.history])\n\n  const update = (field) => {\n      return e => setState({ ...state, [field]: e.currentTarget.value })\n  }\n\n  const nameSubmit = (e) => {\n    e.preventDefault();\n    let user = {\n      email: state.email,\n      name: state.name,\n      password: state.password,\n      password2: state.password2\n    };\n\n    props.signup(user);\n  }\n\n  const renderErrors = () => {\n    return (\n        <ul className=\"error-message-container\">\n            {Object.keys(state.errors).map((error, i) => (\n                <li key={`error-${i}`} className=\"error-messages\">\n                    {state.errors[error]}\n                </li>\n            ))}\n        </ul>\n    );\n  }\n\n    return (\n      <div className=\"signup-page-container\">\n        <div className=\"session-form-container\">\n          <form className=\"session-form\" onSubmit={nameSubmit}>\n            <label className=\"session-label\">Email:\n              <input type=\"text\"\n                value={state.email}\n                onChange={update('email')}\n              />\n            </label>\n            <label className=\"session-label\">Name:\n              <input type=\"text\"\n                value={state.name}\n                onChange={update('name')}\n              />\n            </label>\n            <label className=\"session-label\">Password:\n              <input type=\"password\"\n                value={state.password}\n                onChange={update('password')}\n              />\n            </label>\n            <label className=\"session-label\">Confirm Password:\n              <input type=\"password\"\n                value={state.password2}\n                onChange={update('password2')}\n              />\n            </label>\n          <input className=\"session-submit\" type=\"submit\" value=\"Submit\" />\n          {renderErrors()}\n          </form>\n        </div>\n      </div>\n    );\n}\n\nexport default SignupForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}